enum Role {
  USER 
  HOST
  ADMIN
}

enum UserStatus {
  ACTIVE
  BLOCKED
  DELETED
}


model User {
  id               String     @id @default(cuid())
  name             String
  email            String     @unique
  password         String
  contactNumber    String?
  role             Role       @default(USER)
  status           UserStatus @default(ACTIVE)
  createdAt        DateTime   @default(now())
  updatedAt        DateTime   @updatedAt

  admin            Admin?
  profile          Profile?

   @@map("users")
}

model Profile {
  id               String   @id @default(cuid())
  name             String
  email            String   @unique
  bio              String?
  profileImage     String?
  location         String?
  interests        String[]
  isDeleted        Boolean  @default(false)
  createdAt        DateTime   @default(now())
  updatedAt        DateTime   @updatedAt
  user             User     @relation(fields: [email], references: [email])
  
  events          Event[]
  userReviews     Review[] @relation("UserReviews")
  hostReviews     Review[] @relation("HostReviews")
  payments        Payment[]
  eventsJoined    EventParticipant[]

   @@map("profiles")
}


model Admin {
    id            String   @id @default(uuid())
    name          String
    email         String   @unique
    profileImage  String?
    contactNumber String?
    isDeleted     Boolean  @default(false)
    createdAt     DateTime @default(now())
    updatedAt     DateTime @updatedAt

    user          User @relation(fields: [email], references: [email])

    @@map("admins")
}